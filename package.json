{
  "name": "caravan-root",
  "version": "0.1.0",
  "private": true,
  "description": "Caravan - An easy-to-use and extensible Kubernetes web UI",
  "repository": {
    "type": "git",
    "url": "https://github.com/kubernetes-sigs/caravan.git"
  },
  "license": "Apache-2.0",
  "engines": {
    "node": ">=20.11.1",
    "bun": ">=1.0.0"
  },
  "scripts": {
    "install:all": "bun run frontend:install && bun run backend:build && bun run app:install",
    "install:frontend": "bun run frontend:install",
    "install:backend": "bun run backend:build",
    "install:app": "bun run app:install",
    "build": "bun run backend:build && bun run frontend:build",
    "dev": "bun run start",
    "start": "concurrently \"bun run backend:start\" \"bun run frontend:start\" --names \"backend,frontend\" --prefix-colors \"blue,green\"",
    "test": "bun run backend:test && bun run frontend:test",
    "lint": "bun run backend:lint && bun run frontend:lint",
    "lint:fix": "bun run backend:lint:fix && bun run frontend:lint:fix",
    "clean": "rm -rf frontend/build frontend/node_modules app/node_modules app/dist backend/caravan-server backend/caravan-server.exe node_modules",
    "backend:build": "cd backend && go build -o ./caravan-server ./cmd",
    "backend:lint": "bun run backend:install:linter && cd backend && ./tools/golangci-lint run",
    "backend:lint:fix": "bun run backend:install:linter && cd backend && ./tools/golangci-lint run --fix",
    "backend:install:linter": "GOBIN=`pwd`/backend/tools go install github.com/golangci/golangci-lint/cmd/golangci-lint@v1.64",
    "backend:test": "cd backend && go test -v -p 1 ./...",
    "backend:coverage": "cd backend && go test -v -p 1 -coverprofile=coverage.out ./... && go tool cover -func=coverage.out",
    "backend:coverage:html": "cd backend && go test -v -p 1 -coverprofile=coverage.out ./... && go tool cover -html=coverage.out",
    "backend:format": "cd backend && go fmt ./cmd/ ./pkg/**",
    "backend:start": "echo 'Warning: Running with Helm and dynamic-clusters endpoints enabled.' && CARAVAN_BACKEND_TOKEN=caravan CARAVAN_CONFIG_ENABLE_HELM=true CARAVAN_CONFIG_ENABLE_DYNAMIC_CLUSTERS=true ./backend/caravan-server -dev -proxy-urls https://artifacthub.io/* -listen-addr=localhost",
    "backend:dev": "echo 'Starting Caravan backend in dev mode with Air...' && cd backend && air",
    "backend:start:metrics": "echo 'Running backend with Prometheus metrics enabled' && CARAVAN_BACKEND_TOKEN=caravan CARAVAN_CONFIG_METRICS_ENABLED=true CARAVAN_CONFIG_ENABLE_HELM=true CARAVAN_CONFIG_ENABLE_DYNAMIC_CLUSTERS=true ./backend/caravan-server -dev -proxy-urls https://artifacthub.io/* -listen-addr=localhost",
    "backend:start:traces": "echo 'Running backend with distributed tracing enabled' && CARAVAN_BACKEND_TOKEN=caravan CARAVAN_CONFIG_TRACING_ENABLED=true CARAVAN_CONFIG_ENABLE_HELM=true CARAVAN_CONFIG_ENABLE_DYNAMIC_CLUSTERS=true ./backend/caravan-server -dev -proxy-urls https://artifacthub.io/* -listen-addr=localhost",
    "frontend:install": "cd frontend && bun install",
    "frontend:install:ci": "cd frontend && bun install --frozen-lockfile",
    "frontend:build": "cd frontend && bun run build",
    "frontend:build:storybook": "cd frontend && bun run build-storybook",
    "frontend:lint": "cd frontend && bun run lint -- --max-warnings 0 && bun run format-check",
    "frontend:lint:fix": "cd frontend && bun run lint -- --fix && bun run format",
    "frontend:tsc": "cd frontend && bun run tsc",
    "frontend:test": "cd frontend && bun test -- --coverage",
    "frontend:start": "cd frontend && bun start",
    "frontend:storybook": "cd frontend && bun run storybook",
    "docs": "cd frontend && bun run build-typedoc",
    "i18n": "cd frontend && bun run i18n",
    "i18n:check": "cd frontend && bun run i18n -- --fail-on-update",
    "app:install": "cd app && bun install",
    "app:build": "bun run frontend:build && cd app && bun ./scripts/setup-plugins.js && bun run build",
    "app:build:dir": "bun run frontend:build && cd app && bun ./scripts/setup-plugins.js && bun run build -- --dir",
    "app:package": "bun run app:build && cd app && bun run package -- --win --linux --mac",
    "app:package:win": "bun run app:build && cd app && bun run package -- --win",
    "app:package:win:msi": "bun run app:build && cd app && bun run package-msi",
    "app:package:linux": "bun run app:build && cd app && bun run package -- --linux",
    "app:package:mac": "bun run app:build && cd app && bun run package -- --mac",
    "app:test": "bun run app:test:unit && bun run app:test:e2e",
    "app:test:unit": "cd app && bun run test",
    "app:test:e2e": "cd app/e2e-tests && bun run test",
    "app:tsc": "cd app && bun run tsc",
    "app:start": "cd app && bun ./scripts/setup-plugins.js && bun run start",
    "app:start:client": "cd app && bun run dev-only-app",
    "start:with-app": "concurrently \"bun run backend:start\" \"bun run frontend:start\" \"bun run app:start:client\" --names \"backend,frontend,app\" --prefix-colors \"blue,green,yellow\"",
    "start:app": "bun run app:start",
    "start:backend": "bun run backend:build && bun run backend:start",
    "start:frontend": "bun run frontend:start",
    "plugins:test": "cd plugins/caravan-plugin && bun install && ./test-caravan-plugin.js && ./test-plugins-examples.sh && cd ../pluginctl/src && bun install && bun ./plugin-management.e2e.js && cd .. && bunx jest src/multi-plugin-management.test.js && bunx jest src/plugin-management.test.js && bun run test",
    "image:build": "sh -c 'docker buildx build --pull --platform=local -t ghcr.io/caravan-k8s/caravan:$(git describe --tags --always --dirty) -f Dockerfile .'",
    "image:verify-image-digests": "bun tools/verify-image-digests.js",
    "prepare": "husky"
  },
  "devDependencies": {
    "concurrently": "^8.2.2"
  },
  "keywords": [
    "kubernetes",
    "k8s",
    "ui",
    "web",
    "dashboard",
    "cluster",
    "management"
  ]
}
